{% raw %}
<script id="recently-viewed-product-grid-template" type="text/x-jquery-tmpl">
    {% endraw %}
  ${( file = featured_image.split("/products", 1) ),''}
  ${( option_color_swatch = window.swatch_recently), ''}
  ${( product_id = id ),''}

  {% if settings.enable_hover_video_product_items %}
    ${( chk_video = false ),''}
    ${( has_video = '' ),''}
    {% raw %}
    {{each media}}
      {{if media_type == 'video' && chk_video == false}}
        ${( po = position - 1),''}
        ${( has_video = media[po].sources[0].url),''}
        ${( poster = preview_image.src),''}
        ${( chk_video = true ),''}
      {{/if}}
    {{/each}}
    {% endraw %}
  {% endif %}

  <div class="grid-item col-6 col-md-4 col-lg-3 {% if settings.product_image_border %}grid-item-border{% endif %}">
    <div class="inner product-item{% raw %}{{if !available}} sold-out {{/if}}{{if compare_at_price_min > price_min}} on-sale{{/if}}" data-product-id="product-${id}">
      <div class="inner-top">
      <div class="product-top">
              <div class="product-image {% endraw %}{% if settings.image_swap %}{% raw %}{{if images[1] != null}}image-swap{{/if}}{% endraw %}{% endif %}{% raw %}">
                  <a href="${url}" class="product-grid-image" data-collections-related="/collections/${collection}?view=related">
                    {{if featured_image != null}}
                      {% endraw %}{% if settings.image_swap %}{% raw %}
                      {{if images[1] != null}}
                      <picture data-index="0">
                        <img src="${featured_image}" class="images-one" alt="${featured_image.alt}" data-index="0" />
                      </picture>
                      <span class="images-two">

                        {% endraw %}
                        {% if settings.enable_hover_video_product_items %}
                        {% raw %}

                          {{if has_video != ''}}
                            <video playsinline="playsinline" preload="metadata" aria-label="${title}" muted>
                                <source src="${has_video}" type="video/mp4">
                            </video>
                          {{else}}
                            <picture data-index="1">
                              <img src="${images[1]}" alt="${images[1].alt}" data-index="1" />
                            </picture>
                          {{/if}}

                        {% endraw %}
                        {% else %}
                        {% raw %}

                          <picture data-index="1">
                            <img src="${images[1]}" alt="${images[1].alt}" data-index="1" />
                          </picture>

                        {% endraw %}
                        {% endif %}
                        {% raw %}

                      </span>
                      {{else}}
                      <picture data-index="0">
                        <img src="${featured_image}" alt="${featured_image.alt}" data-index="0" />
                      </picture>
                      {{/if}}
                      {% endraw %}{% else %}{% raw %}
                      <picture data-index="0">
                        <img src="${featured_image}" alt="${featured_image.alt}" data-index="0" />
                      </picture>
                      {% endraw %}{% endif %}{% raw %}
                    {{/if}}
                  </a>
                </div>
                
                <div class="product-label">
                  {{if compare_at_price_min > price_min }} 
                  {% endraw %}
                  {% if settings.type_label_sale == 'label_sale' %}
                  {% raw %}
                    <strong class="label sale-label">
                      <span {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.sale"{% endif %}>
                          {{ 'products.product.sale' | t }}{% raw %}
                      </span>
                    </strong>
                    {% endraw %}
                    {% else %}
                    {% raw %}
                    ${( compare = 0 ),''}
                    {{each variants}}
                      {{if variants[($index)].compare_at_price > variants[($index)].price}}
                        ${( saving = Math.round((variants[($index)].compare_at_price - variants[($index)].price)*100/variants[($index)].compare_at_price) ),''}
                        {{if saving > compare}}
                          ${( compare = saving ),''}
                        {{/if}}
                      {{/if}}
                    {{/each}}
                    {{if compare < 1}}
                      ${( compare = Math.round((compare_at_price_min - price_min)*100/compare_at_price_min) ),''}
                    {{/if}}
                    <strong class="label sale-label">
                      <span>
                          -${compare}%
                      </span>
                    </strong>
                    {% endraw %}
                    {% endif %}
                    <br>
                    {% raw %}
                    
                  {{/if}}
                  {{if !available}}
                    <strong class="label sold-out-label">
                      <span {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.sold_out"{% endif %}>
                        {{ 'products.product.sold_out' | t }}{% raw %}
                      </span>
                    </strong>
                    <br>
                  {{/if}}
                  
                  ${( tagLabel = false ),''}
                   {{if tags}}
                      {{each tags}} 
                          {{if $value =="label" || $value =="Label"}}
                              ${( tagLabel = true ),''}
                          {{/if}}
                       {{/each}}
                   {{/if}}
                   
                   {{if tagLabel}}
                    <strong class="label custom-label">
                      <span {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.custom_label"{% endif %}>
                        {{ 'products.product.custom_label' | t }}{% raw %}
                      </span>
                    </strong>
                  {{/if}}
                </div>
                
              {% endraw %}
                {% if settings.enable_wishlist %}
                    {% raw %}
                        <a class="wishlist" data-icon-wishlist href="#" data-product-handle="${handle}" data-id="${id}">
                          {% endraw %}
                          {% render 'icon-heart-2' %}
                          <span class="wishlist-text">
                              {{ 'wishlist.general.add_to_wishlist_1' | t }}
                          </span>
                          {% raw %}
                        </a>
                    {% endraw %}
                {% endif %}

                {% if settings.enable_quick_view %}
                {% raw %}
                    <a class="quickview-button" href="javascript:void(0)" id="${handle}">
                       {% endraw %}
                        {% render 'icons7-eye' %}
                       {% raw %}
                          <span {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.quick_view"{% endif %}>
                              {{ 'products.product.quick_view' | t }}{% raw %}
                            </span>                        
                    </a>
                {% endraw %}
                {% endif %}
                {% raw %}
            
                <div class="product-des abs-center">
                    {% endraw %}
                    {% if settings.display_button %}
                    {% raw %}
                    <div class="action">
                        <form action="{% endraw %}{{ routes.cart_url }}{% raw %}/add" method="post" class="variants" id="recently-${id}" data-id="product-actions-${id}" enctype="multipart/form-data">
                            {{if !available}}
                                <button class="btn add-to-cart-btn" type="submit" disabled="disabled" {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.unavailable"{% endif %}>
                                    {{ 'products.product.unavailable' | t }}{% raw %}
                                </button>
                            {{else variants.length > 0 && variants[0].title != 'Default Title' }}
                                ${( downcased_option = options[0].name.toLowerCase() ),''}
                                {{if options.length == 1 && option_color_swatch.indexOf(downcased_option) > -1 && window.use_color_swatch}}
                                  <input type="hidden" name="id" value="${variants[0].id}" />
                                  <input type="hidden" name="quantity" value="1" />
                                  <button data-btn-addToCart class="btn add-to-cart-btn" type="submit" data-form-id="#recently-${id}" {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.add_to_cart"{% endif %}>
                                  {{ 'products.product.add_to_cart' | t }}{% raw %}
                                  </button>
                                {{else}}
                                  {% endraw %}
                                  {% if settings.enable_quick_shop %}
                                  {% raw %}
                                    <a class="cart-btn" data-href="javascript:void(0)" title="${title}" data-init-quickshop>
                                      {% endraw %}<svg width="32px" height="32px" fill="none">
            <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z" fill="#fff"></path>
            <path clip-rule="evenodd" d="M21.704 23.605h-11.27a2.132 2.132 0 01-1.574-.668c-.4-.428-.586-1-.512-1.57l1.113-8.387h13.217l1.1 8.387c.143 1.091-.666 2.087-1.81 2.225l-.264.013zM18.852 10.988c0-1.467-1.245-2.656-2.782-2.656s-2.783 1.19-2.783 2.656v1.992h5.565v-1.992z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"></path>
            <g>
              <mask id="a" fill="#fff">
                <path d="M18.571 17.845h-2.035a.107.107 0 01-.107-.107v-2.036a.428.428 0 10-.858 0v2.036a.107.107 0 01-.107.107H13.43a.429.429 0 100 .857h2.035a.107.107 0 01.107.107v2.036a.429.429 0 00.858 0v-2.036a.107.107 0 01.107-.107h2.035a.429.429 0 100-.857z"></path>
              </mask>
              <path d="M18.571 17.845h-2.035a.107.107 0 01-.107-.107v-2.036a.428.428 0 10-.858 0v2.036a.107.107 0 01-.107.107H13.43a.429.429 0 100 .857h2.035a.107.107 0 01.107.107v2.036a.429.429 0 00.858 0v-2.036a.107.107 0 01.107-.107h2.035a.429.429 0 100-.857z" fill="#000"></path>
              <path d="M16.429 17.738h-1.715 1.715zM16 15.273V13.56v1.714zm-3 3h-1.714H13zm3.536.429v-1.714 1.714zm2.035-2.571h-2.035v3.428h2.035v-3.428zm-2.035 0c.426 0 .835.169 1.136.47l-2.424 2.425c.341.341.805.533 1.288.533v-3.428zm1.136.47c.302.302.47.71.47 1.137h-3.428c0 .483.192.946.534 1.288l2.424-2.425zm.47 1.137v-2.036h-3.428v2.036h3.429zm0-2.036c0-.568-.225-1.113-.627-1.515l-2.424 2.424a1.285 1.285 0 01-.377-.909h3.429zm-.627-1.515A2.143 2.143 0 0016 13.559v3.429c-.341 0-.668-.136-.91-.377l2.425-2.424zM16 13.559c-.568 0-1.113.226-1.515.628l2.424 2.424a1.285 1.285 0 01-.909.377v-3.429zm-1.515.628a2.143 2.143 0 00-.628 1.515h3.429c0 .341-.136.668-.377.91l-2.424-2.425zm-.628 1.515v2.036h3.429v-2.036h-3.429zm0 2.036c0-.427.17-.835.47-1.137l2.425 2.425c.342-.342.534-.805.534-1.288h-3.429zm.47-1.137c.302-.301.711-.47 1.137-.47v3.428c.483 0 .947-.192 1.288-.533L14.328 16.6zm1.137-.47H13.43v3.428h2.035v-3.428zm-2.035 0c-.569 0-1.114.225-1.516.627l2.425 2.425a1.286 1.286 0 01-.91.376v-3.428zm-1.516.627a2.143 2.143 0 00-.627 1.515h3.428c0 .341-.135.669-.376.91l-2.425-2.425zm-.627 1.515c0 .569.226 1.114.627 1.516l2.425-2.425c.24.241.376.568.376.91h-3.428zm.627 1.516c.402.401.947.627 1.516.627v-3.428c.34 0 .668.135.909.376l-2.425 2.425zm1.516.627h2.035v-3.428H13.43v3.428zm2.035 0c-.426 0-.835-.169-1.136-.47l2.424-2.425a1.821 1.821 0 00-1.288-.533v3.428zm-1.136-.47a1.607 1.607 0 01-.47-1.137h3.428c0-.483-.192-.946-.534-1.288l-2.424 2.425zm-.47-1.137v2.036h3.428v-2.036h-3.429zm0 2.036c0 .568.225 1.113.627 1.515l2.424-2.424c.241.24.377.568.377.909h-3.429zm.627 1.515c.402.402.947.628 1.515.628v-3.429c.341 0 .668.136.91.377l-2.425 2.424zm1.515.628c.568 0 1.113-.226 1.515-.628l-2.424-2.424c.241-.241.568-.377.909-.377v3.429zm1.515-.628c.402-.402.628-.947.628-1.515h-3.429c0-.341.136-.668.377-.91l2.424 2.425zm.628-1.515v-2.036h-3.429v2.036h3.429zm0-2.036c0 .426-.17.835-.47 1.137l-2.425-2.425a1.821 1.821 0 00-.534 1.288h3.429zm-.47 1.137c-.302.301-.711.47-1.137.47v-3.428c-.483 0-.947.192-1.288.533l2.424 2.425zm-1.137.47h2.035v-3.428h-2.035v3.428zm2.035 0c.569 0 1.114-.226 1.516-.627l-2.425-2.425c.241-.24.568-.376.91-.376v3.428zm1.516-.627c.401-.402.627-.947.627-1.516h-3.428c0-.34.135-.668.376-.909l2.425 2.425zm.627-1.516c0-.568-.226-1.113-.627-1.515l-2.425 2.425a1.286 1.286 0 01-.376-.91h3.428zm-.627-1.515a2.143 2.143 0 00-1.516-.627v3.428c-.34 0-.668-.135-.909-.376l2.425-2.425z" fill="#000" mask="url(#a)"></path>
            </g>
            <defs>
              <clipPath id="clip0">
                <path fill="#fff" transform="translate(13 15.273)" d="M0 0h6v6H0z"></path>
              </clipPath>
            </defs>
          </svg>{% raw %}
                                    </a>
                                  {% endraw %}
                                  {% else %}
                                  {% raw %}
                                    <a class="btn" href='${url}' title='${title}' {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.select_options"{% endif %}>
                                    {{ 'products.product.select_options' | t }}{% raw %}
                                    </a>
                                  {% endraw %}
                                  {% endif %}
                                  {% raw %}
                                {{/if}}
                            {{else}}
                              <input type="hidden" name="id" value="${variants[0].id}" />
                              {% endraw %}
                                {% if product.selected_or_first_available_variant.inventory_management%}
                                  {% if current_variant_grid.inventory_quantity > 0 %}
                              {% raw %}
                                    <button data-btn-addToCart class="btn add-to-cart-btn" type="submit" data-form-id="#recently-${id}" {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.add_to_cart"{% endif %}>
                                      {{ 'products.product.add_to_cart' | t }}{% raw %}
                                    </button>
                              {% endraw %}
                                {% else %}
                              {% raw %}  
                                    <button data-btn-addToCart class="btn add-to-cart-btn" type="submit" data-form-id="#recently-${id}" {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.pre_order"{% endif %}>
                                      {{ 'products.product.pre_order' | t }} {% raw %}
                                    </button>
                              {% endraw %}
                                  {% endif %}
                                {% else %}
                              {% raw %}
                                <button data-btn-addToCart class="btn add-to-cart-btn" type="submit" data-form-id="#recently-${id}" {% endraw %}{% if settings.enable_multilang %}data-translate="products.product.add_to_cart"{% endif %}>
                                  {{ 'products.product.add_to_cart' | t }}{% raw %}
                                </button>
                              {% endraw %}
                                {% endif %}
                              {% raw %}
                            {{/if}}
                        </form>
                        {{if available}}
                        {{if variants.length > 0 && variants[0].title != 'Default Title'}}
                          <div class="product-card__variant--popup">
                              <div class="product-card__variant--popup--content">
                                <form action="{% endraw %}{{ routes.cart_url }}{% raw %}/add" method="post" class="variants" id="recently-${id}-qs" data-id="product-actions-${id}" enctype="multipart/form-data">
                                  ${( position_color = 0 ),''}
                                  {{each options}}
                                    ${( option_name = name.toLowerCase() ),''}
                                    {{if option_color_swatch.indexOf(option_name) > -1}}
                                      ${( position_color = position - 1 ),''}
                                    {{/if}}
                                  {{/each}}

                                  {{each options}}
                                      ${( option_name = name.toLowerCase() ),''}
                                      ${( colorlist = '' ),''}
                                      {{if window.use_color_swatch }}
                                          {{if option_color_swatch.indexOf(option_name) > -1}}
                                              <div class="selector-wrapper selector-wrapper-1 swatch js product-form__item option-color hide" data-option-index=0 data-option-position="${position - 1}">
                                                  <label class="form-label">
                                                      ${name}: 
                                                      <span class="label-value-${position}"></span>
                                                  </label>
                                                  ${( option_index = position ),''}
                                                  {{each variants}}
                                                    {{if position == 1}}
                                                    ${( value = variants[($index)].option1 ),''}
                                                    {{/if}}
                                                    {{if position == 2}}
                                                    ${( value = variants[($index)].option2 ),''}
                                                    {{/if}}
                                                    {{if position == 3}}
                                                    ${( value = variants[($index)].option3 ),''}
                                                    {{/if}}
                                                    ${( temp = ''),''}
                                                    ${( temp = temp.concat(";",value) ),''}
                                                    {{if colorlist.indexOf(value) < 0}}
                                                      ${( colorlist = colorlist.concat(";",value) ),''}
                                                      ${( value_2 = value.toLowerCase().replace(" ", "") ),''}
                                                      <div class="swatch-element color ${value_2}{{if available}} available{{else}} soldout{{/if}}" data-value="${value}">
                                                          <input {{if !available}}disabled{{/if}} class="single-option-selector single-option-selector-quick single-option-selector-recently-view" type="radio" name="SingleOptionSelector-${option_index}-${product_id}-recently-view" data-index="option${option_index}" value="${value}" {{if values[0] == value}}checked="checked"{{/if}} id="SingleOptionSelector${option_index}-${value}-${product_id}-recently-view">
                                                          <label data-toggle="tooltip" data-placement="top" title="${value}" for="SingleOptionSelector${option_index}-${value}-${product_id}-recently-view"></label>
                                                      </div>
                                                    {{/if}}
                                                  {{/each}}
                                              </div>
                                          {{else}}
                                              <div class="selector-wrapper selector-wrapper-{{if position_color == 0 }}${position}{{else}}{{if position == 1 }}2{{else}}3{{/if}}{{/if}} swatch js product-form__item" data-option-index={{if position_color == 0 }}${position - 1}{{else}}{{if position == 1}}1{{else}}2{{/if}}{{/if}}>
                                                  <label class="form-label">
                                                      ${name}: 
                                                      <span class="label-value-${position}"></span>
                                                  </label>
                                                  ${( option_index = position ),''}
                                                  {{each variants}}
                                                    {{if position == 1}}
                                                    ${( value = variants[($index)].option1 ),''}
                                                    {{/if}}
                                                    {{if position == 2}}
                                                    ${( value = variants[($index)].option2 ),''}
                                                    {{/if}}
                                                    {{if position == 3}}
                                                    ${( value = variants[($index)].option3 ),''}
                                                    {{/if}}
                                                    ${( temp = ''),''}
                                                    ${( temp = temp.concat(";",value) ),''}
                                                    {{if colorlist.indexOf(temp) < 0}}
                                                        ${( colorlist = colorlist.concat(";",value) ),''}
                                                        ${( value_2 = value.toLowerCase().replace(" ", "") ),''}
                                                          <div class="swatch-element size ${value_2}{{if available}} available{{else}} soldout{{/if}}" data-value="${value}">
                                                              <input {{if !available}}disabled{{/if}} class="single-option-selector single-option-selector-quick single-option-selector-recently-view" type="radio" name="SingleOptionSelector-${option_index}-${product_id}-recently-view" data-index="option${option_index}" value="${value}" id="SingleOptionSelector${option_index}-${value}-${product_id}-recently-view">
                                                              <label data-toggle="tooltip" data-placement="top" title="${value}" for="SingleOptionSelector${option_index}-${value}-${product_id}-recently-view">${value}</label>
                                                          </div>
                                                      {{/if}}
                                                  {{/each}}
                                              </div>
                                          {{/if}}
                                      {{else}}
                                        ${( position_color = position - 1 ),''}
                                        ${( check = false ),''}
                                        ${( select1 = ''),''}
                                        ${( select2 = ''),''}
                                        <div class="selector-wrapper selector-wrapper-${position} selector js product-form__item" data-option-index=${position}>
                                            <label class="form-label">
                                                ${name}: <span class="label-value-${position}"></span>
                                            </label>
                                            
                                            <select class="single-option-selector single-option-selector-quick single-option-selector-recently-view product-form__input form-control" id="SingleOptionSelector-${position}-${product_id}-recently-view" data-option="option${position}" data-option-index="${position_color}">
                                              {{each variants}}
                                                {{if check == false}}
                                                  {{if variants[($index)].available == true}}
                                                    ${( select1 = variants[($index)].option1 ),''}
                                                    ${( select2 = variants[($index)].option2 ),''}
                                                    ${( check = true ),''}
                                                  {{/if}}
                                                {{/if}}
                                                
                                                {{if position == 1}}
                                                ${( value = variants[($index)].option1 ),''}
                                                {{/if}}
                                                {{if position == 2}}
                                                ${( value = variants[($index)].option2 ),''}
                                                {{/if}}
                                                {{if position == 3}}
                                                ${( value = variants[($index)].option3 ),''}
                                                {{/if}}
                                                ${( temp = ''),''}
                                                ${( temp = temp.concat(";",value) ),''}
                                                {{if colorlist.indexOf(temp) < 0}}
                                                  ${( colorlist = colorlist.concat(";",value) ),''}
                                                  ${( value_2 = value.toLowerCase().replace(" ", "") ),''}
                                                  <option value="${value}" {{if select1 == value || select2 == value}}selected="selected"{{/if}}>${value}</option>
                                                {{/if}}
                                              {{/each}}
                                            </select>
                                        </div>
                                      {{/if}}
                                  {{/each}}
                                  <select name="id" id="ProductSelect-${id}-recently-view" class="product-form__variants no-js">
                                      {{each variants}}
                                          {{if available}}
                                              <option value="${id}">
                                                  ${title}
                                              </option>
                                          {{else}}
                                              <option disabled="disabled">${title} - {% endraw %}{{ 'products.product.sold_out' | t }}{% raw %}</option>
                                          {{/if}}
                                      {{/each}}
                                  </select>
                                  <div class="product-card__button_cancel_mobile">
                                      <a class="btn btn-cancel" data-cancel-swatch-qs><svg aria-hidden="true" data-prefix="fal" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="svg-inline--fa fa-times fa-w-10 fa-2x"><path fill="currentColor" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z" class=""></path></svg></a>
                                  </div>
                                  <div class="product-card__button2">
                                      <input type="hidden" name="quantity" value="1" />
                                      <button data-btn-addToCart class="btn add-to-cart-btn" type="submit" data-form-id="#recently-${id}-qs">
                                          {% endraw %}{{ 'products.general.submit' | t }}{% raw %}
                                      </button>
                                  </div>
                                </form>
                              </div>
                          </div>
                        {{/if}}
                        {{/if}}
                    </div>
                    {% endraw %}
                    {% endif %}
                    {% raw %}                    
                </div>
        </div>
            
            <div class="product-bottom">
              <div class="wrapper-vendor">
                {% endraw %}
                {% if settings.show_vendor %}
                {% raw %}
                  <div class="product-vendor">
                      <a href="{% endraw %}{{ routes.cart_url | split: '/cart' | first }}{% raw %}/collections/vendors?q=${vendor}" title="Anna">${vendor}</a>                
                  </div>
                {% endraw %}
                {% endif %} 
                {% raw %}
              </div>
              
              
                
              <a class="product-title change-text" href="${url}">
                ${title}
                {{each options}}
                  ${( option_name = name.toLowerCase() ),''}
                  {{if option_color_swatch.indexOf(option_name) > -1}}
                    {{if position == 1}}
                    ${( option = variants[0].option1 ),''}
                    {{/if}}
                    {{if position == 2}}
                    ${( option = variants[0].option2 ),''}
                    {{/if}}
                    {{if position == 3}}
                    ${( option = variants[0].option3 ),''}
                    {{/if}}
                    <span data-change-title>{% endraw %}{% unless settings.layout_style == 'layout_style_surfup' %}{% raw %} <span class='line'>-</span> {% endraw %}{% endunless %}{% raw %}${option}</span>
                  {{/if}}
                {{/each}}
              </a>

              {% endraw %}
                {% if settings.display_product_reviews %}
                {% raw %}
                  <span class="shopify-product-reviews-badge" data-id="${id}"></span>
                {% endraw %}
                {% endif %}
              {% raw %}
                
              <div class="price-box">
                  {{if compare_at_price_min > price_min }} 
                    <div class="price-sale">
                      {% endraw %}{% if settings.enable_quick_shop %}{% raw %}
                        <span class="old-price" data-compare-price-grid>{{html Shopify.formatMoney(variants[0].compare_at_price, window.money_format)}}</span>
                        <span class="special-price" data-price-grid>{{html Shopify.formatMoney(variants[0].price, window.money_format)}}</span>
                      {% endraw %}{% else %}{% raw %}
                        <span class="old-price">
                          {{html Shopify.formatMoney(compare_at_price_min, window.money_format)}}
                        </span>

                        <span class="special-price">
                          {{if price_varies}}
                            {% endraw %}{% render 'varies_from' %}{% raw %}
                          {{/if}}
                            {{html Shopify.formatMoney(price_min, window.money_format)}}
                        </span>
                      {% endraw %}{% endif %}{% raw %}
                    </div>
                  {{else}}
                    
                    {% endraw %}{% if settings.enable_quick_shop %}{% raw %}
                      <div class="price-regular">
                        <span data-price-grid>{{html Shopify.formatMoney(variants[0].price, window.money_format)}}</span>
                      </div>
                    {% endraw %}{% else %}{% raw %}
                      <div class="price-regular">
                        <span>
                          {{if price_varies}}{% endraw %}{% render 'varies_from' %}{% raw %}{{/if}}
                            {{html Shopify.formatMoney(price_min, window.money_format)}}
                        </span>
                      </div>
                    {% endraw %}{% endif %}{% raw %}
                  {{/if}}
              </div>
              <div class="wrapper-size">
                {% endraw %}
                {% if settings.display_item_swatch %}
                {% raw %}

                {{if window.use_color_swatch}}
                
                {{each options}}
                
                ${( downcased_option = name.toLowerCase() ),''}
                
                {{if option_color_swatch.indexOf(downcased_option) > -1}}
                ${( colorlist = '' ),''}
                ${( optionCount = 0 ),''}
                ${( count = 0 ),''}
                <ul class="item-swatch">
                ${( val = 0 ),''}
                {{each values}} 
                ${( color = 0 ),''}
                {{each variants}}
                {{if position == 1}}
                ${( color = variants[($index)].option1 ),''}
                ${( valu = values.length - 1 ),''}
                {{/if}}
                {{if position == 2}}
                ${( color = variants[($index)].option2 ),''}
                ${( valu = values.length - 1 ),''}
                {{/if}}
                {{if position == 3}}
                ${( color = variants[($index)].option3 ),''}
                ${( valu = values.length - 1 ),''}
                {{/if}}
                ${( temp = ''),''}
                ${( temp = temp.concat(";",color) ),''}
                {{if colorlist.indexOf(temp) < 0}}
                {{if count < 4}}
                <li class="">
                  <div class="tooltip" style="display: none;">
                      ${color}
                  </div>
                  <label data-toggle="tooltip" {{if options.length == 1}}data-with-one-option="${id}" data-quantity="{{if available}}1{{else}}0{{/if}}" data-price="${price}" data-compare_at_price="${compare_at_price}"{{/if}} class="{{if count == 0}}active{{/if}} {{if options.length == 1 && !available}}soldout{{/if}}" data-value="${color.toLowerCase().replace(" ", "-")}" data-id-product="${id}" data-title="${color}" title="${color}"
                            {{if variants[($index)].featured_image != null}}
                            data-img="${variants[($index)].featured_image.src}"
                            {{/if}}
                            style="
                            {% endraw %}{%- if settings.color_swatch_style == 'variant' or settings.color_swatch_style == 'variant_grouped'-%}{% raw %}
                            
                            {{if variants[($index)].featured_image != null}}
                            {{else}}
                            background-color: ${color};
                            background-image: url(${file + "/files/" + color.toLowerCase().replace(" ", "-") + ".png"});
                            {{/if}}
                            {% endraw %}
                            {% else %}
                            background-color: ${color};
                            background-image: url(${file + "/files/" + color.toLowerCase().replace(" ", "-") + ".png"});
                            {% raw %}
                            {% endraw %}
                            {% endif %}
                            {% raw %}
                            ">
                    {% endraw %}
                    {% if settings.color_swatch_style =='variant' or settings.color_swatch_style == 'variant_grouped' %}
                    {% raw %}
                      {{if variants[($index)].featured_image != null}}         
                      <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                     class="lazyload"
                                     data-src="${variants[($index)].featured_image.src}"
                                     data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
                                     data-aspectratio="${variants[($index)].featured_image.src}"
                                     data-sizes="auto">
                      {{/if}}
                    {% endraw %}
                    {% endif %}
                    {% raw %}
                    </label>
                  
                </li>
                {{else}}
                  
                  ${( count1 = count ),''}
                  ${( count2 = valu ),''}
                    {{if count1 == 4}}
                      <li class="group-swatch" style="display: none">
                    {{/if}}
                    <div>
                      <div class="tooltip" style="display: none;">
                          ${color}
                      </div>
                      <label data-toggle="tooltip" {{if options.length == 1}}data-with-one-option="${id}" data-quantity="{{if available}}1{{else}}0{{/if}}" data-price="${price}" data-compare_at_price="${compare_at_price}"{{/if}} class="{{if count == 0}}active{{/if}} {{if options.length == 1 && !available}}soldout{{/if}}" data-value="${color.toLowerCase().replace(" ", "-")}" data-id-product="${id}" data-title="${color}" title="${color}"
                      {{if variants[($index)].featured_image != null}}
                      data-img="${variants[($index)].featured_image.src}"
                      {{/if}}
                      style="
                      {% endraw %}{%- if settings.color_swatch_style == 'variant' or settings.color_swatch_style == 'variant_grouped'-%}{% raw %}
                      
                      {{if variants[($index)].featured_image != null}}
                      {{else}}
                      background-color: ${color};
                      background-image: url(${file + "/files/" + color.toLowerCase().replace(" ", "-") + ".png"});
                      {{/if}}
                      {% endraw %}
                      {% else %}
                      background-color: ${color};
                      background-image: url(${file + "/files/" + color.toLowerCase().replace(" ", "-") + ".png"});
                      {% raw %}
                      {% endraw %}
                      {% endif %}
                      {% raw %}
                      ">
                      {{if variants[($index)].featured_image != null}}
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                       class="lazyload"
                                       data-src="${variants[($index)].featured_image.src}"
                                       data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
                                       data-aspectratio="${variants[($index)].featured_image.src}"
                                       data-sizes="auto">
                      {{/if}}
                      </label>
                    </div>
                    {{if count == valu }}
                      </li>
                    {{/if}}

                {{/if}}
                ${( optionCount ++ ),''}
                ${( count = optionCount / 4 ),''}


                {{/if}}
                ${( colorlist = colorlist.concat(";",color) ),''}
                {{/each}}
                {{/each}}
                ${( count = optionCount / 4 ),''}

                {{if count > 4}}
                <li class="item-swatch-more">
                  <a href="javascript:void(0)" title="More Color">
                      <span>+</span> ${count - 4}
                  </a>
                </li>
                {{/if}}
                
                </ul>
                {{/if}}
                {{/each}}

                {{/if}}
                {% endraw %}
                {% endif %}
                {% raw %}


            

              </div>
              
        </div>                        
      </div>
    </div>
  </div>

</script>
{% endraw %}